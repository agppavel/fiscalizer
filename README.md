# Библиотека интеграции с фискализацией от Касса24
### Подходит для систем работающих а автоматическом режиме
### Например интернет-магазинов автоматически формирующих фискальный чек, когда клиент оплатил товар

## Пример использования
```go
package main

import (
	"github.com/agppavel/fiscalizer"
)

func main() {
	kkm_id := 123456                                      //Получаем в личном кабинете
	kkm_login := "77011111111"                            // Логин  кассира создаем в личном кабинете
	kkm_pass := "pass"                                    // Логин  кассира создаем в личном кабинете
	kkm := fiscalizer.NewKkm(kkm_id, kkm_login, kkm_pass) //Получаем объекс кассы, Нужно сделать его синглтоном

	//domain := fiscalizer.TRADING //Вид деятельности в этом примере торговля (свои виды деятельности добавлять нельзя это справочник ОФД)
	//total := 800                 // Стоимость товара
	//cash := 1000                 // Получено от покупателя наличности (может быть больше стоимости товара, тогда в офд будет отмечено что покупатель получил сдачу)
	//non_cash := 0                //Получено от покупателя безналичным расчетом (Переводом, Картой итд) Не может быть больше стоимости, безналичный расчет не имеет сдачи
	//png_bill := true             //Нужен ли чек в формате PNG если true то сервер пришлет картинку чека

	doc := fiscalizer.NewDocument(fiscalizer.TRADING, 1000, 0, 800, true) //Создаем документ
	doc.AddPosition("Хлебушек", 123456, 230.0, 0.0, 0.0, 2)               //Добавляем в документ товар Хлебушек, Секция 123456, Цена 230тг, Скидка 0 тг, Наценка 0тг, количество 2
	doc.AddPosition("Молоко", 123456, 450.0, 0.0, 0.0, 1)                 // Добавляем второй товар

	result, err := kkm.SendDocument(fiscalizer.SALE, doc) //Отправляем продажу в Касса24
	if err != nil {
		panic(err)
	}
	/*
		В результате получаем следующую структуру
		FiscalNumber  Фискальный признак
		AutonomousNumber Автономный признак
		DocumentId Входящий номер документа в фискальной системе Касса24
		Location Ссылка на дубликат чека для проверки или отправки покупателю
		Receipt  Изображение сека в формате PNG BASE64
	*/
}
```
